<!-- Include this first because we want the version
     of react that comes later to take precedence -->
<script src="https://stateb.us/client4.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.5/ace.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.1/react.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.1/react-dom.min.js"></script>

<script src="/bower_components/ot/dist/ot.js"></script>

<link rel="stylesheet" href="/cursors.css">
<script src="/collaborative_editor.js"></script>

<script>
"use strict";

window.statebus_server = window.location.protocol + '//' + window.location.hostname + ':8004';
window.statebus_version = 4;

// XXX: horrible hack. I should really give statebus client a library load callback
function waitForClientToLoad() {
    if (!window.bus) {
        setTimeout(waitForClientToLoad, 100);
    } else {
        ReactDOM.render(React.createElement(CollaborativeEditor), document.body);
    }
}

waitForClientToLoad();
</script>

